crystal_doc_search_index_callback({"repository_name":"github.com/pitosalas/hacr","body":"# hacr Home Automation CLI\n* Crystal version of home automation app\n* My first Crystal program\n* Talks to the Hue hub\n* Designed to be a well behaved cli to be used in shell scripts and so on\n\n","program":{"html_id":"github.com/pitosalas/hacr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/pitosalas/hacr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"BRIDGE_IP","name":"BRIDGE_IP","value":"\"10.0.0.89\"","doc":null,"summary":null},{"id":"USERNAME","name":"USERNAME","value":"\"78UEGUotX3otmWxbhiucELCLiiKmaD9E2O5YW-d1\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/pitosalas/hacr/CliHacr","path":"CliHacr.html","kind":"class","full_name":"CliHacr","name":"CliHacr","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cli_hacr.cr","line_number":15,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"USAGE","name":"USAGE","value":"\"Usage: hacr [command]\\nCommand:\\n    list                    show all home automation devices\\n    help                    show this help\\n    version                 show version\\n    show                    show status of an individual device\"","doc":null,"summary":null},{"id":"VERSION","name":"VERSION","value":"\"0.1\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"run(args)-class-method","html_id":"run(args)-class-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(args)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L45","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L45","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(args)).run"}}],"constructors":[{"id":"new(cli_words:Array(String))-class-method","html_id":"new(cli_words:Array(String))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"cli_words","doc":null,"default_value":"","external_name":"cli_words","restriction":"Array(String)"}],"args_string":"(cli_words : Array(String))","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L34","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L34","def":{"name":"new","args":[{"name":"cli_words","doc":null,"default_value":"","external_name":"cli_words","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(cli_words)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"command_options:Array(String)-instance-method","html_id":"command_options:Array(String)-instance-method","name":"command_options","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L19","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L19","def":{"name":"command_options","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@command_options"}},{"id":"command_options=(command_options:Array(String))-instance-method","html_id":"command_options=(command_options:Array(String))-instance-method","name":"command_options=","doc":null,"summary":null,"abstract":false,"args":[{"name":"command_options","doc":null,"default_value":"","external_name":"command_options","restriction":"Array(String)"}],"args_string":"(command_options : Array(String))","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L19","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L19","def":{"name":"command_options=","args":[{"name":"command_options","doc":null,"default_value":"","external_name":"command_options","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@command_options = command_options"}},{"id":"command_words:Array(String)-instance-method","html_id":"command_words:Array(String)-instance-method","name":"command_words","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L18","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L18","def":{"name":"command_words","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@command_words"}},{"id":"command_words=(command_words:Array(String))-instance-method","html_id":"command_words=(command_words:Array(String))-instance-method","name":"command_words=","doc":null,"summary":null,"abstract":false,"args":[{"name":"command_words","doc":null,"default_value":"","external_name":"command_words","restriction":"Array(String)"}],"args_string":"(command_words : Array(String))","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L18","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L18","def":{"name":"command_words=","args":[{"name":"command_words","doc":null,"default_value":"","external_name":"command_words","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@command_words = command_words"}},{"id":"handle_command-instance-method","html_id":"handle_command-instance-method","name":"handle_command","doc":"Commands are <word> or <word> <param>","summary":"<p>Commands are &lt;word> or &lt;word> &lt;param></p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L81","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L81","def":{"name":"handle_command","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if word_count == 0\n  return\nend\ncommand_words.map(&.downcase)\ncase command_words[0]\nwhen .starts_with?(\"help\")\n  Out.p(USAGE)\nwhen .starts_with?(\"version\")\n  Out.p(VERSION)\nwhen .starts_with?(\"list\")\n  Commands.do_list_command(@repeat_count, 3600, @show_headers)\nwhen .starts_with?(\"show\")\n  if command_words.size != 2\n    report_unknown_command\n  else\n    Commands.do_show(command_words[1], @repeat_count, 3600, @show_headers)\n  end\nelse\n  report_unknown_command\nend\n"}},{"id":"handle_null_command-instance-method","html_id":"handle_null_command-instance-method","name":"handle_null_command","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L60","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L60","def":{"name":"handle_null_command","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @word_count == 0\n  Out.p(USAGE)\nend"}},{"id":"handle_options-instance-method","html_id":"handle_options-instance-method","name":"handle_options","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L106","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L106","def":{"name":"handle_options","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OptionParser.parse(@command_options) do |parser|\n  parser.on(\"-r\", \"--repeat\", \"Repeat LIST command continuously\") do\n    @repeat_count = 99999999999_i64\n    @show_headers = false\n  end\n  parser.on(\"-c COUNT\", \"--count=COUNT\", \"How often to repeat before exiting\") do |rep|\n    @repeat_count = rep.to_i64\n    @show_headers = false\n  end\n  parser.on(\"-h\", \"--help\", \"Show help for options on LIST command\") do\n    @repeat_count = 0\n  end\nend"}},{"id":"is_command?(string)-instance-method","html_id":"is_command?(string)-instance-method","name":"is_command?","doc":null,"summary":null,"abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""}],"args_string":"(string)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L56","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L56","def":{"name":"is_command?","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(/\\A\\w+\\z/) =~ string"}},{"id":"options_count:Int32-instance-method","html_id":"options_count:Int32-instance-method","name":"options_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L21","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L21","def":{"name":"options_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@options_count"}},{"id":"options_count=(options_count)-instance-method","html_id":"options_count=(options_count)-instance-method","name":"options_count=","doc":null,"summary":null,"abstract":false,"args":[{"name":"options_count","doc":null,"default_value":"","external_name":"options_count","restriction":""}],"args_string":"(options_count)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L21","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L21","def":{"name":"options_count=","args":[{"name":"options_count","doc":null,"default_value":"","external_name":"options_count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@options_count = options_count"}},{"id":"repeat_count:Int64-instance-method","html_id":"repeat_count:Int64-instance-method","name":"repeat_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L16","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L16","def":{"name":"repeat_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@repeat_count"}},{"id":"repeat_count=(repeat_count:Int64)-instance-method","html_id":"repeat_count=(repeat_count:Int64)-instance-method","name":"repeat_count=","doc":null,"summary":null,"abstract":false,"args":[{"name":"repeat_count","doc":null,"default_value":"","external_name":"repeat_count","restriction":"Int64"}],"args_string":"(repeat_count : Int64)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L16","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L16","def":{"name":"repeat_count=","args":[{"name":"repeat_count","doc":null,"default_value":"","external_name":"repeat_count","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@repeat_count = repeat_count"}},{"id":"report_unknown_command-instance-method","html_id":"report_unknown_command-instance-method","name":"report_unknown_command","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L102","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L102","def":{"name":"report_unknown_command","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Out.p(\"Unknown command \\\"#{@cli_words.join(\" \")}\\\"\")"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L49","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L49","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"top_level_command_parse\nhandle_null_command\nhandle_options\nhandle_command\n"}},{"id":"show_headers:Bool-instance-method","html_id":"show_headers:Bool-instance-method","name":"show_headers","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L17","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L17","def":{"name":"show_headers","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@show_headers"}},{"id":"show_headers=(show_headers:Bool)-instance-method","html_id":"show_headers=(show_headers:Bool)-instance-method","name":"show_headers=","doc":null,"summary":null,"abstract":false,"args":[{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":"Bool"}],"args_string":"(show_headers : Bool)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L17","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L17","def":{"name":"show_headers=","args":[{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@show_headers = show_headers"}},{"id":"top_level_command_parse-instance-method","html_id":"top_level_command_parse-instance-method","name":"top_level_command_parse","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L66","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L66","def":{"name":"top_level_command_parse","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@word_count = 0\n@options_count = 0\ncli_words.each do |w|\n  if is_command?(w)\n    command_words.push(w)\n    @word_count = @word_count + 1\n  else\n    command_options.push(w)\n    @options_count = @options_count + 1\n  end\nend\n"}},{"id":"word_count:Int32-instance-method","html_id":"word_count:Int32-instance-method","name":"word_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L20","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L20","def":{"name":"word_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@word_count"}},{"id":"word_count=(word_count)-instance-method","html_id":"word_count=(word_count)-instance-method","name":"word_count=","doc":null,"summary":null,"abstract":false,"args":[{"name":"word_count","doc":null,"default_value":"","external_name":"word_count","restriction":""}],"args_string":"(word_count)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L20","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/cli_hacr.cr#L20","def":{"name":"word_count=","args":[{"name":"word_count","doc":null,"default_value":"","external_name":"word_count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@word_count = word_count"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Commands","path":"Commands.html","kind":"class","full_name":"Commands","name":"Commands","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"commands.cr","line_number":1,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"column_widths-class-method","html_id":"column_widths-class-method","name":"column_widths","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L49","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L49","def":{"name":"column_widths","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[10, 5, 24, 12]"}},{"id":"details-class-method","html_id":"details-class-method","name":"details","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L45","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L45","def":{"name":"details","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"conditions\", \"actions\"]"}},{"id":"do_list_command(repeat_count,sleep_time,show_headers)-class-method","html_id":"do_list_command(repeat_count,sleep_time,show_headers)-class-method","name":"do_list_command","doc":null,"summary":null,"abstract":false,"args":[{"name":"repeat_count","doc":null,"default_value":"","external_name":"repeat_count","restriction":""},{"name":"sleep_time","doc":null,"default_value":"","external_name":"sleep_time","restriction":""},{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"args_string":"(repeat_count, sleep_time, show_headers)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L2","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L2","def":{"name":"do_list_command","args":[{"name":"repeat_count","doc":null,"default_value":"","external_name":"repeat_count","restriction":""},{"name":"sleep_time","doc":null,"default_value":"","external_name":"sleep_time","restriction":""},{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"while (repeat_count > 0)\n  data = get_hue_status.all_a(fields)\n  render_as_table(fields, data, headers, column_widths, [] of String, show_headers)\n  if repeat_count > 1\n    sleep(sleep_time)\n  end\n  repeat_count = repeat_count - 1\nend"}},{"id":"do_show(show_what,repeat_count,sleep_time,show_headers)-class-method","html_id":"do_show(show_what,repeat_count,sleep_time,show_headers)-class-method","name":"do_show","doc":null,"summary":null,"abstract":false,"args":[{"name":"show_what","doc":null,"default_value":"","external_name":"show_what","restriction":""},{"name":"repeat_count","doc":null,"default_value":"","external_name":"repeat_count","restriction":""},{"name":"sleep_time","doc":null,"default_value":"","external_name":"sleep_time","restriction":""},{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"args_string":"(show_what, repeat_count, sleep_time, show_headers)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L11","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L11","def":{"name":"do_show","args":[{"name":"show_what","doc":null,"default_value":"","external_name":"show_what","restriction":""},{"name":"repeat_count","doc":null,"default_value":"","external_name":"repeat_count","restriction":""},{"name":"sleep_time","doc":null,"default_value":"","external_name":"sleep_time","restriction":""},{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"hue = get_hue_status\nresources = hue.find(show_what)\nif resources.size == 0\n  Out.p(\"Unknown Hue resource #{show_what}\")\n  return\nend\ndata = resources.map do |res|\n  res.array(fields)\nend\nrender_as_table(fields, data, [] of String, [] of Int32, details, show_headers)\n"}},{"id":"fields-class-method","html_id":"fields-class-method","name":"fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L37","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L37","def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"timestamp\", \"id\", \"name\", \"on\", \"detail\", \"conditions\", \"actions\"]"}},{"id":"get_hue_status-class-method","html_id":"get_hue_status-class-method","name":"get_hue_status","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L22","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L22","def":{"name":"get_hue_status","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"context = Context.new\ncontext.set_property(\"hue_state\", Hue.bridge_state)\nHue.new(context)\n"}},{"id":"headers-class-method","html_id":"headers-class-method","name":"headers","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L41","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L41","def":{"name":"headers","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"timestamp\", \"id\", \"name\", \"on\"]"}},{"id":"render_as_table(field_names,data,column_headers,column_widths,detail_labels,show_headers)-class-method","html_id":"render_as_table(field_names,data,column_headers,column_widths,detail_labels,show_headers)-class-method","name":"render_as_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":""},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":""},{"name":"column_headers","doc":null,"default_value":"","external_name":"column_headers","restriction":""},{"name":"column_widths","doc":null,"default_value":"","external_name":"column_widths","restriction":""},{"name":"detail_labels","doc":null,"default_value":"","external_name":"detail_labels","restriction":""},{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"args_string":"(field_names, data, column_headers, column_widths, detail_labels, show_headers)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L28","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/commands.cr#L28","def":{"name":"render_as_table","args":[{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":""},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":""},{"name":"column_headers","doc":null,"default_value":"","external_name":"column_headers","restriction":""},{"name":"column_widths","doc":null,"default_value":"","external_name":"column_widths","restriction":""},{"name":"detail_labels","doc":null,"default_value":"","external_name":"detail_labels","restriction":""},{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"table = Report.new(DataFrame.new(field_names, data))\ntable.show_headers = show_headers\ntable.column_widths = column_widths\ntable.column_headers = column_headers\ntable.detail_labels = detail_labels\nOut.p(table.render)\n"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Context","path":"Context.html","kind":"class","full_name":"Context","name":"Context","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"context.cr","line_number":8,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"FILE_SPEC","name":"FILE_SPEC","value":"\"/Users/pitosalas/.file.db\"","doc":null,"summary":null},{"id":"SQLLITE_URL","name":"SQLLITE_URL","value":"\"sqlite3://#{FILE_SPEC}\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L14","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L14","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"create_or_open-instance-method","html_id":"create_or_open-instance-method","name":"create_or_open","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L46","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L46","def":{"name":"create_or_open","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"db = DB.open(SQLLITE_URL)\nif (!(db_exist?(db)))\n  puts(\"Creating #{FILE_SPEC}\")\n  db_create(db)\nend\ndb\n"}},{"id":"db_create(db)-instance-method","html_id":"db_create(db)-instance-method","name":"db_create","doc":null,"summary":null,"abstract":false,"args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":""}],"args_string":"(db)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L66","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L66","def":{"name":"db_create","args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"db.exec(\"create table ha_store (name text, value string)\")\ndb.exec(\"insert into ha_store values (?, ?)\", \"hue_state\", \"\")\n"}},{"id":"db_delete-instance-method","html_id":"db_delete-instance-method","name":"db_delete","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L71","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L71","def":{"name":"db_delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"File.delete(FILE_SPEC)"}},{"id":"db_exist?(db)-instance-method","html_id":"db_exist?(db)-instance-method","name":"db_exist?","doc":null,"summary":null,"abstract":false,"args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":""}],"args_string":"(db)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L55","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L55","def":{"name":"db_exist?","args":[{"name":"db","doc":null,"default_value":"","external_name":"db","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"db.query(\"SELECT name FROM sqlite_master WHERE type='table'\") do |rs|\n  rs.each do\n    if (    (rs.read(String)) == \"ha_store\")\n      return true\n    end\n  end\n  return false\nend"}},{"id":"get_property(prop):String-instance-method","html_id":"get_property(prop):String-instance-method","name":"get_property","doc":null,"summary":null,"abstract":false,"args":[{"name":"prop","doc":null,"default_value":"","external_name":"prop","restriction":""}],"args_string":"(prop) : String","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L24","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L24","def":{"name":"get_property","args":[{"name":"prop","doc":null,"default_value":"","external_name":"prop","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"value = \"none\"\n@db.query(\"select name, value from ha_store\") do |rs|\n  rs.each do\n    if (rs.read(String)) == prop\n      value = rs.read(String)\n    end\n  end\nend\nvalue\n"}},{"id":"get_property_as_json(prop):JSON::Any-instance-method","html_id":"get_property_as_json(prop):JSON::Any-instance-method","name":"get_property_as_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"prop","doc":null,"default_value":"","external_name":"prop","restriction":""}],"args_string":"(prop) : JSON::Any","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L36","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L36","def":{"name":"get_property_as_json","args":[{"name":"prop","doc":null,"default_value":"","external_name":"prop","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"JSON::Any","visibility":"Public","body":"prop_json = get_property(prop)\nJSON.parse(prop_json)\n"}},{"id":"set_property(name,value)-instance-method","html_id":"set_property(name,value)-instance-method","name":"set_property","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(name, value)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L42","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/context.cr#L42","def":{"name":"set_property","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@db.exec(\"update ha_store set value = ? where name = ?\", value, name)"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/DataFrame","path":"DataFrame.html","kind":"class","full_name":"DataFrame","name":"DataFrame","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"data_frame.cr","line_number":1,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(field_names,row_data)-class-method","html_id":"new(field_names,row_data)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":""},{"name":"row_data","doc":null,"default_value":"","external_name":"row_data","restriction":""}],"args_string":"(field_names, row_data)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L5","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L5","def":{"name":"new","args":[{"name":"field_names","doc":null,"default_value":"","external_name":"field_names","restriction":""},{"name":"row_data","doc":null,"default_value":"","external_name":"row_data","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field_names, row_data)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"fields:Array(String)-instance-method","html_id":"fields:Array(String)-instance-method","name":"fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L3","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L3","def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@fields"}},{"id":"fields=(fields:Array(String))-instance-method","html_id":"fields=(fields:Array(String))-instance-method","name":"fields=","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"}],"args_string":"(fields : Array(String))","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L3","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L3","def":{"name":"fields=","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@fields = fields"}},{"id":"get(name,row)-instance-method","html_id":"get(name,row)-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":""}],"args_string":"(name, row)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L10","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L10","def":{"name":"get","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"column = fields.index(name)\nif column.nil?\n  \"bad index\"\nelse\n  rows[row][column]\nend\n"}},{"id":"labeled_row(index)-instance-method","html_id":"labeled_row(index)-instance-method","name":"labeled_row","doc":null,"summary":null,"abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":""}],"args_string":"(index)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L19","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L19","def":{"name":"labeled_row","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rows[index].map_with_index do |value, index|\n  [fields[index], value]\nend"}},{"id":"rows:Array(Array(String))-instance-method","html_id":"rows:Array(Array(String))-instance-method","name":"rows","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Array(String))","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L2","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L2","def":{"name":"rows","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Array(String))","visibility":"Public","body":"@rows"}},{"id":"rows=(rows:Array(Array(String)))-instance-method","html_id":"rows=(rows:Array(Array(String)))-instance-method","name":"rows=","doc":null,"summary":null,"abstract":false,"args":[{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Array(Array(String))"}],"args_string":"(rows : Array(Array(String)))","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L2","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L2","def":{"name":"rows=","args":[{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":"Array(Array(String))"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@rows = rows"}},{"id":"validate-instance-method","html_id":"validate-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L25","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/data_frame.cr#L25","def":{"name":"validate","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (((rows.nil? || fields.nil?) || (rows.size == 0)) || (fields.size == 0)) || (rows[0].size != fields.size)\n  raise(\"Invalid DataFrame\")\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Group","path":"Group.html","kind":"class","full_name":"Group","name":"Group","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"group.cr","line_number":3,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"owning(number,grouparray)-class-method","html_id":"owning(number,grouparray)-class-method","name":"owning","doc":null,"summary":null,"abstract":false,"args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":""},{"name":"grouparray","doc":null,"default_value":"","external_name":"grouparray","restriction":""}],"args_string":"(number, grouparray)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L13","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L13","def":{"name":"owning","args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":""},{"name":"grouparray","doc":null,"default_value":"","external_name":"grouparray","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"grouparray.select do |group|\n  group.lights.include?(number)\nend"}}],"constructors":[{"id":"new(timestamp,key,hashvalue)-class-method","html_id":"new(timestamp,key,hashvalue)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""}],"args_string":"(timestamp, key, hashvalue)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L5","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L5","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, key, hashvalue)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"detail-instance-method","html_id":"detail-instance-method","name":"detail","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L4","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L4","def":{"name":"detail","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@detail"}},{"id":"name-instance-method","html_id":"name-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L4","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L4","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name"}},{"id":"on-instance-method","html_id":"on-instance-method","name":"on","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L4","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/group.cr#L4","def":{"name":"on","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@on"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Hue","path":"Hue.html","kind":"class","full_name":"Hue","name":"Hue","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"hue.cr","line_number":7,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"bridge_state-class-method","html_id":"bridge_state-class-method","name":"bridge_state","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L27","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L27","def":{"name":"bridge_state","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"response = (Crest.get(\"http://#{BRIDGE_IP}/api/#{USERNAME}/\")).body"}}],"constructors":[{"id":"new(context:Context)-class-method","html_id":"new(context:Context)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":"Context"}],"args_string":"(context : Context)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L16","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L16","def":{"name":"new","args":[{"name":"context","doc":null,"default_value":"","external_name":"context","restriction":"Context"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(context)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"all_a(selector)-instance-method","html_id":"all_a(selector)-instance-method","name":"all_a","doc":null,"summary":null,"abstract":false,"args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"args_string":"(selector)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L60","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L60","def":{"name":"all_a","args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"items = sensors_a(selector)\nitems = items + (lights_a(selector))\nitems = items + (groups_a(selector))\nitems = items + (rules_a(selector))\n"}},{"id":"find(find_what)-instance-method","html_id":"find(find_what)-instance-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"find_what","doc":null,"default_value":"","external_name":"find_what","restriction":""}],"args_string":"(find_what)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L36","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L36","def":{"name":"find","args":[{"name":"find_what","doc":null,"default_value":"","external_name":"find_what","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@resources.select do |r|\n  r.id == find_what\nend"}},{"id":"groups-instance-method","html_id":"groups-instance-method","name":"groups","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L50","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L50","def":{"name":"groups","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"state = @hue_state[\"groups\"]\nstate.as_h.map do |k, v|\n  Group.new(@timestamp, k, v)\nend\n"}},{"id":"groups_a(selector)-instance-method","html_id":"groups_a(selector)-instance-method","name":"groups_a","doc":null,"summary":null,"abstract":false,"args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"args_string":"(selector)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L75","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L75","def":{"name":"groups_a","args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"groups.map do |group|\n  group.array(selector)\nend"}},{"id":"lights-instance-method","html_id":"lights-instance-method","name":"lights","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L45","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L45","def":{"name":"lights","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"state = @hue_state[\"lights\"]\nstate.as_h.map do |k, v|\n  Light.new(@timestamp, k, v, @groups)\nend\n"}},{"id":"lights_a(selector)-instance-method","html_id":"lights_a(selector)-instance-method","name":"lights_a","doc":null,"summary":null,"abstract":false,"args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"args_string":"(selector)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L71","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L71","def":{"name":"lights_a","args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"lights.map do |light|\n  light.array(selector)\nend"}},{"id":"pair-instance-method","html_id":"pair-instance-method","name":"pair","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L31","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L31","def":{"name":"pair","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@context[:useraccount] = \"12345\"\n@context.save\n"}},{"id":"rules-instance-method","html_id":"rules-instance-method","name":"rules","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L55","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L55","def":{"name":"rules","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"state = @hue_state[\"rules\"]\nstate.as_h.map do |k, v|\n  Rule.new(@timestamp, k, v)\nend\n"}},{"id":"rules_a(selector)-instance-method","html_id":"rules_a(selector)-instance-method","name":"rules_a","doc":null,"summary":null,"abstract":false,"args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"args_string":"(selector)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L79","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L79","def":{"name":"rules_a","args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"rules.map do |rule|\n  rule.array(selector)\nend"}},{"id":"sensors-instance-method","html_id":"sensors-instance-method","name":"sensors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L40","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L40","def":{"name":"sensors","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"state = @hue_state[\"sensors\"]\nstate.as_h.map do |k, v|\n  Sensor.new(@timestamp, k, v)\nend\n"}},{"id":"sensors_a(selector)-instance-method","html_id":"sensors_a(selector)-instance-method","name":"sensors_a","doc":null,"summary":null,"abstract":false,"args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"args_string":"(selector)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L67","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue.cr#L67","def":{"name":"sensors_a","args":[{"name":"selector","doc":null,"default_value":"","external_name":"selector","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sensors.map do |sensor|\n  sensor.array(selector)\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/HueResource","path":"HueResource.html","kind":"class","full_name":"HueResource","name":"HueResource","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"hue_resource.cr","line_number":3,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/pitosalas/hacr/Group","kind":"class","full_name":"Group","name":"Group"},{"html_id":"github.com/pitosalas/hacr/Light","kind":"class","full_name":"Light","name":"Light"},{"html_id":"github.com/pitosalas/hacr/Rule","kind":"class","full_name":"Rule","name":"Rule"},{"html_id":"github.com/pitosalas/hacr/Sensor","kind":"class","full_name":"Sensor","name":"Sensor"}],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(timestamp,key,hub_status_json:JSON::Any)-class-method","html_id":"new(timestamp,key,hub_status_json:JSON::Any)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hub_status_json","doc":null,"default_value":"","external_name":"hub_status_json","restriction":"JSON::Any"}],"args_string":"(timestamp, key, hub_status_json : JSON::Any)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L7","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L7","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hub_status_json","doc":null,"default_value":"","external_name":"hub_status_json","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, key, hub_status_json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"array(selectors)-instance-method","html_id":"array(selectors)-instance-method","name":"array","doc":null,"summary":null,"abstract":false,"args":[{"name":"selectors","doc":null,"default_value":"","external_name":"selectors","restriction":""}],"args_string":"(selectors)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L22","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L22","def":{"name":"array","args":[{"name":"selectors","doc":null,"default_value":"","external_name":"selectors","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"selectors.map do |key|\n  @state.fetch(key, \"none\")\nend"}},{"id":"format(string_time)-instance-method","html_id":"format(string_time)-instance-method","name":"format","doc":null,"summary":null,"abstract":false,"args":[{"name":"string_time","doc":null,"default_value":"","external_name":"string_time","restriction":""}],"args_string":"(string_time)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L26","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L26","def":{"name":"format","args":[{"name":"string_time","doc":null,"default_value":"","external_name":"string_time","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"time = Time.parse_utc(string_time, \"%Y-%m-%dT%H:%M:%S\")\ntime = time.in(Time::Location.local)\ntime.to_s(\"%H:%M:%S\")\n"}},{"id":"gen_reskey(detail)-instance-method","html_id":"gen_reskey(detail)-instance-method","name":"gen_reskey","doc":null,"summary":null,"abstract":false,"args":[{"name":"detail","doc":null,"default_value":"","external_name":"detail","restriction":""}],"args_string":"(detail)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L14","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L14","def":{"name":"gen_reskey","args":[{"name":"detail","doc":null,"default_value":"","external_name":"detail","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@state.merge!({\"id\" => detail + @state[\"key\"]})"}},{"id":"id-instance-method","html_id":"id-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L18","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L18","def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@state[\"id\"]"}},{"id":"state:Hash(String,String)-instance-method","html_id":"state:Hash(String,String)-instance-method","name":"state","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L5","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L5","def":{"name":"state","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, String)","visibility":"Public","body":"@state"}},{"id":"state=(state:Hash(String,String))-instance-method","html_id":"state=(state:Hash(String,String))-instance-method","name":"state=","doc":null,"summary":null,"abstract":false,"args":[{"name":"state","doc":null,"default_value":"","external_name":"state","restriction":"Hash(String, String)"}],"args_string":"(state : Hash(String, String))","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L5","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/hue_resource.cr#L5","def":{"name":"state=","args":[{"name":"state","doc":null,"default_value":"","external_name":"state","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@state = state"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Light","path":"Light.html","kind":"class","full_name":"Light","name":"Light","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"light.cr","line_number":3,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/light.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(timestamp,key:String,hashvalue,grouparray)-class-method","html_id":"new(timestamp,key:String,hashvalue,grouparray)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""},{"name":"grouparray","doc":null,"default_value":"","external_name":"grouparray","restriction":""}],"args_string":"(timestamp, key : String, hashvalue, grouparray)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/light.cr#L7","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/light.cr#L7","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""},{"name":"grouparray","doc":null,"default_value":"","external_name":"grouparray","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, key, hashvalue, grouparray)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"build_name-instance-method","html_id":"build_name-instance-method","name":"build_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/light.cr#L20","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/light.cr#L20","def":{"name":"build_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@state[\"detail\"] = @state[\"detail\"] + (\" in \" + (Group.owning(@number, @grouparray)).first.name)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Out","path":"Out.html","kind":"class","full_name":"Out","name":"Out","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"out.cr","line_number":1,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"capture-class-method","html_id":"capture-class-method","name":"capture","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L22","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L22","def":{"name":"capture","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"log(\"capture\")\n@@capture\n"}},{"id":"log(w)-class-method","html_id":"log(w)-class-method","name":"log","doc":null,"summary":null,"abstract":false,"args":[{"name":"w","doc":null,"default_value":"","external_name":"w","restriction":""}],"args_string":"(w)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L32","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L32","def":{"name":"log","args":[{"name":"w","doc":null,"default_value":"","external_name":"w","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"p(string:String)-class-method","html_id":"p(string:String)-class-method","name":"p","doc":null,"summary":null,"abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"args_string":"(string : String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L12","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L12","def":{"name":"p","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case @@mode\nwhen :stdout\n  puts(string)\nwhen :capture\n  @@capture = @@capture + string\nend\nlog(\"p\")\n"}},{"id":"reset_capture-class-method","html_id":"reset_capture-class-method","name":"reset_capture","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L27","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L27","def":{"name":"reset_capture","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@capture = \"\"\nlog(\"reset_capture\")\n"}},{"id":"set_capture-class-method","html_id":"set_capture-class-method","name":"set_capture","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L6","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/out.cr#L6","def":{"name":"set_capture","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@mode = :capture\nreset_capture\nlog(\"setcapture\")\n"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Report","path":"Report.html","kind":"class","full_name":"Report","name":"Report","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"report.cr","line_number":6,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"\nPresent data in requested format, as text, suitable for display on the commmand line.\n  depends on DataFrame for the representation of the data\n  returns the result as a text string\n","summary":"<p>Present data in requested format, as text, suitable for display on the commmand line.</p>","class_methods":[],"constructors":[{"id":"new(df)-class-method","html_id":"new(df)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"df","doc":null,"default_value":"","external_name":"df","restriction":""}],"args_string":"(df)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L14","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L14","def":{"name":"new","args":[{"name":"df","doc":null,"default_value":"","external_name":"df","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(df)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"column_headers:Array(String)-instance-method","html_id":"column_headers:Array(String)-instance-method","name":"column_headers","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L9","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L9","def":{"name":"column_headers","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@column_headers"}},{"id":"column_headers=(column_headers)-instance-method","html_id":"column_headers=(column_headers)-instance-method","name":"column_headers=","doc":null,"summary":null,"abstract":false,"args":[{"name":"column_headers","doc":null,"default_value":"","external_name":"column_headers","restriction":""}],"args_string":"(column_headers)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L9","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L9","def":{"name":"column_headers=","args":[{"name":"column_headers","doc":null,"default_value":"","external_name":"column_headers","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@column_headers = column_headers"}},{"id":"column_widths:Array(Int32)-instance-method","html_id":"column_widths:Array(Int32)-instance-method","name":"column_widths","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Int32)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L10","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L10","def":{"name":"column_widths","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@column_widths"}},{"id":"column_widths=(column_widths)-instance-method","html_id":"column_widths=(column_widths)-instance-method","name":"column_widths=","doc":null,"summary":null,"abstract":false,"args":[{"name":"column_widths","doc":null,"default_value":"","external_name":"column_widths","restriction":""}],"args_string":"(column_widths)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L10","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L10","def":{"name":"column_widths=","args":[{"name":"column_widths","doc":null,"default_value":"","external_name":"column_widths","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@column_widths = column_widths"}},{"id":"data_count-instance-method","html_id":"data_count-instance-method","name":"data_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L18","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L18","def":{"name":"data_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data_frame.length"}},{"id":"data_frame:DataFrame-instance-method","html_id":"data_frame:DataFrame-instance-method","name":"data_frame","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : DataFrame","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L8","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L8","def":{"name":"data_frame","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"DataFrame","visibility":"Public","body":"@data_frame"}},{"id":"data_frame=(data_frame:DataFrame)-instance-method","html_id":"data_frame=(data_frame:DataFrame)-instance-method","name":"data_frame=","doc":null,"summary":null,"abstract":false,"args":[{"name":"data_frame","doc":null,"default_value":"","external_name":"data_frame","restriction":"DataFrame"}],"args_string":"(data_frame : DataFrame)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L8","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L8","def":{"name":"data_frame=","args":[{"name":"data_frame","doc":null,"default_value":"","external_name":"data_frame","restriction":"DataFrame"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data_frame = data_frame"}},{"id":"detail_labels:Array(String)-instance-method","html_id":"detail_labels:Array(String)-instance-method","name":"detail_labels","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L11","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L11","def":{"name":"detail_labels","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@detail_labels"}},{"id":"detail_labels=(detail_labels)-instance-method","html_id":"detail_labels=(detail_labels)-instance-method","name":"detail_labels=","doc":null,"summary":null,"abstract":false,"args":[{"name":"detail_labels","doc":null,"default_value":"","external_name":"detail_labels","restriction":""}],"args_string":"(detail_labels)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L11","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L11","def":{"name":"detail_labels=","args":[{"name":"detail_labels","doc":null,"default_value":"","external_name":"detail_labels","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@detail_labels = detail_labels"}},{"id":"detail_render(row_number)-instance-method","html_id":"detail_render(row_number)-instance-method","name":"detail_render","doc":"For each name in `detail_labels`, render:\n     name1: value of field called 'name1' of row_number in data_frame\n     name2: value of field called 'name2' of row_number in data_frame","summary":"<p>For each name in <code><a href=\"Report.html#detail_labels%3AArray%28String%29-instance-method\">#detail_labels</a></code>, render:      name1: value of field called 'name1' of row_number in data_frame      name2: value of field called 'name2' of row_number in data_frame</p>","abstract":false,"args":[{"name":"row_number","doc":null,"default_value":"","external_name":"row_number","restriction":""}],"args_string":"(row_number)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L50","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L50","def":{"name":"detail_render","args":[{"name":"row_number","doc":null,"default_value":"","external_name":"row_number","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = \"\"\ndetail_labels.each_index do |index|\n  result = result + \"    #{detail_labels[index]}: #{data_frame.get(detail_labels[index], row_number)}\\n\"\nend\nresult\n"}},{"id":"format_value(val)-instance-method","html_id":"format_value(val)-instance-method","name":"format_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"val","doc":null,"default_value":"","external_name":"val","restriction":""}],"args_string":"(val)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L62","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L62","def":{"name":"format_value","args":[{"name":"val","doc":null,"default_value":"","external_name":"val","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if [true, false].includes?(val)\n  val ? \"Yes\" : \"No\"\nelse\n  if val.nil?\n    val = \"nil\"\n  end\nend\nval\n"}},{"id":"header_render-instance-method","html_id":"header_render-instance-method","name":"header_render","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L31","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L31","def":{"name":"header_render","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = \"\"\ncolumn_headers.each_index do |i|\n  result = result + (\" %#{column_widths[i]}s\" % column_headers[i])\nend\nresult\n"}},{"id":"render-instance-method","html_id":"render-instance-method","name":"render","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L22","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L22","def":{"name":"render","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = show_headers && column_headers.size > 0 ? header_render + \"\\n\" : \"\"\ndata_frame.rows.each_index do |index|\n  if column_headers.size > 0\n    result = result + ((row_render(index)) + \"\\n\")\n  end\n  if detail_labels.size > 0\n    result = result + (detail_render(index))\n  end\nend\nresult\n"}},{"id":"reset-instance-method","html_id":"reset-instance-method","name":"reset","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L58","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L58","def":{"name":"reset","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data = Array(String)"}},{"id":"row_render(index)-instance-method","html_id":"row_render(index)-instance-method","name":"row_render","doc":null,"summary":null,"abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":""}],"args_string":"(index)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L39","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L39","def":{"name":"row_render","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"result = \"\"\ncolumn_headers.each_index do |i|\n  result = result + (\" %#{column_widths[i]}s\" % (format_value(data_frame.get(column_headers[i], index))))\nend\nresult\n"}},{"id":"show_headers:Bool-instance-method","html_id":"show_headers:Bool-instance-method","name":"show_headers","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L12","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L12","def":{"name":"show_headers","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@show_headers"}},{"id":"show_headers=(show_headers)-instance-method","html_id":"show_headers=(show_headers)-instance-method","name":"show_headers=","doc":null,"summary":null,"abstract":false,"args":[{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"args_string":"(show_headers)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L12","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/report.cr#L12","def":{"name":"show_headers=","args":[{"name":"show_headers","doc":null,"default_value":"","external_name":"show_headers","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@show_headers = show_headers"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Rule","path":"Rule.html","kind":"class","full_name":"Rule","name":"Rule","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"rule.cr","line_number":3,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"owning(number,grouparray)-class-method","html_id":"owning(number,grouparray)-class-method","name":"owning","doc":null,"summary":null,"abstract":false,"args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":""},{"name":"grouparray","doc":null,"default_value":"","external_name":"grouparray","restriction":""}],"args_string":"(number, grouparray)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L13","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L13","def":{"name":"owning","args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":""},{"name":"grouparray","doc":null,"default_value":"","external_name":"grouparray","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"grouparray.select do |group|\n  group.lights.include?(number)\nend"}}],"constructors":[{"id":"new(timestamp,key,hashvalue)-class-method","html_id":"new(timestamp,key,hashvalue)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""}],"args_string":"(timestamp, key, hashvalue)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L5","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L5","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, key, hashvalue)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"name-instance-method","html_id":"name-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L17","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L17","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@state[\"name\"]"}},{"id":"pp_action(hv:JSON::Any)-instance-method","html_id":"pp_action(hv:JSON::Any)-instance-method","name":"pp_action","doc":null,"summary":null,"abstract":false,"args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"args_string":"(hv : JSON::Any)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L60","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L60","def":{"name":"pp_action","args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"#{hv[0].to_s}\""}},{"id":"pp_address(address:String)-instance-method","html_id":"pp_address(address:String)-instance-method","name":"pp_address","doc":null,"summary":null,"abstract":false,"args":[{"name":"address","doc":null,"default_value":"","external_name":"address","restriction":"String"}],"args_string":"(address : String)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L41","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L41","def":{"name":"pp_address","args":[{"name":"address","doc":null,"default_value":"","external_name":"address","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"dev = num = prop = \"\"\nreg = /\\/([a-z]+)\\/(\\d+)\\/state\\/([a-z]+)/\nif md = reg.match(address)\n  dev = md[1]\n  num = md[2]\n  prop = md[3]\nend\n(((dev + \"(\") + num) + \").\") + prop\n"}},{"id":"pp_cond(hv:JSON::Any)-instance-method","html_id":"pp_cond(hv:JSON::Any)-instance-method","name":"pp_cond","doc":null,"summary":null,"abstract":false,"args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"args_string":"(hv : JSON::Any)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L34","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L34","def":{"name":"pp_cond","args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"res = [pp_address(hv[\"address\"].to_s), pp_operator(hv[\"operator\"]), pp_value(hv[\"value\"]?)]\nres.join(\" \")\n"}},{"id":"pp_conditions(hv:JSON::Any)-instance-method","html_id":"pp_conditions(hv:JSON::Any)-instance-method","name":"pp_conditions","doc":null,"summary":null,"abstract":false,"args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"args_string":"(hv : JSON::Any)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L28","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L28","def":{"name":"pp_conditions","args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"res = \"conditions:  \"\nres = hv.as_a.map do |cond|\n  (pp_cond(cond)).to_s\nend\nres.join(\" and \")\n"}},{"id":"pp_operator(operator)-instance-method","html_id":"pp_operator(operator)-instance-method","name":"pp_operator","doc":null,"summary":null,"abstract":false,"args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""}],"args_string":"(operator)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L52","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L52","def":{"name":"pp_operator","args":[{"name":"operator","doc":null,"default_value":"","external_name":"operator","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if operator == \"dx\"\n  operator = \"changed\"\nend"}},{"id":"pp_rule(hv:JSON::Any)-instance-method","html_id":"pp_rule(hv:JSON::Any)-instance-method","name":"pp_rule","doc":null,"summary":null,"abstract":false,"args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"args_string":"(hv : JSON::Any)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L21","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L21","def":{"name":"pp_rule","args":[{"name":"hv","doc":null,"default_value":"","external_name":"hv","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"res = \"IF \"\nres = res + \"#{pp_conditions(hv[\"conditions\"])}\"\nres = res + \"#{pp_action(hv[\"actions\"])}\"\nres\n"}},{"id":"pp_value(value)-instance-method","html_id":"pp_value(value)-instance-method","name":"pp_value","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L56","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/rule.cr#L56","def":{"name":"pp_value","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value"}}],"macros":[],"types":[]},{"html_id":"github.com/pitosalas/hacr/Sensor","path":"Sensor.html","kind":"class","full_name":"Sensor","name":"Sensor","abstract":false,"superclass":{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},"ancestors":[{"html_id":"github.com/pitosalas/hacr/HueResource","kind":"class","full_name":"HueResource","name":"HueResource"},{"html_id":"github.com/pitosalas/hacr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/pitosalas/hacr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"sensor.cr","line_number":4,"url":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/sensor.cr"}],"repository_name":"github.com/pitosalas/hacr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Represent Hue Sensors","summary":"<p>Represent Hue Sensors</p>","class_methods":[],"constructors":[{"id":"new(timestamp,key,hashvalue)-class-method","html_id":"new(timestamp,key,hashvalue)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""}],"args_string":"(timestamp, key, hashvalue)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/sensor.cr#L6","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/sensor.cr#L6","def":{"name":"new","args":[{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":""},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"hashvalue","doc":null,"default_value":"","external_name":"hashvalue","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, key, hashvalue)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"analyze_detail(detail)-instance-method","html_id":"analyze_detail(detail)-instance-method","name":"analyze_detail","doc":null,"summary":null,"abstract":false,"args":[{"name":"detail","doc":null,"default_value":"","external_name":"detail","restriction":""}],"args_string":"(detail)","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/sensor.cr#L15","source_link":"https://github.com/pitosalas/hacr/blob/6eb65eaa5552beecefa1cd0531069910db416d87/src/sensor.cr#L15","def":{"name":"analyze_detail","args":[{"name":"detail","doc":null,"default_value":"","external_name":"detail","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"key = \"status\"\nif detail == \"CLIPPresence\"\n  key = \"presence\"\nelse\n  if detail == \"Geofence\"\n    key = \"presence\"\n  else\n    if detail == \"CLIPGenericFlag\"\n      key = \"flag\"\n    else\n      if detail == \"Daylight\"\n        key = \"daylight\"\n      end\n    end\n  end\nend\nkey\n"}}],"macros":[],"types":[]}]}})